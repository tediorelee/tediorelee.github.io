<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type"content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"name="viewport"/><meta content="yes"name="apple-mobile-web-app-capable"/><meta content="black"name="apple-mobile-web-app-status-bar-style"/><meta name="referrer" content="never"><meta content="telephone=no"name="format-detection"/><meta name="renderer"content="webkit"><meta name="keywords"content=""><meta name="description"content=""><title>ğŸŒˆHexoåšå®¢æ·»åŠ httpsè§£æ|ğ’¯ğ¸ğ’Ÿğ¼ğ’ªğ‘…ğ¸ğ¿ğ¸ğ¸</title><link rel="shortcut icon"href="https://iidx.xyz/favicon.ico?v=1569767394803"><link rel="stylesheet"href="https://iidx.xyz/styles/main.css"type='text/css'media='all'><link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"rel="stylesheet"><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script><link rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css"><link rel="stylesheet"href="https://cdn.bootcss.com/highlight.js/9.15.8/styles/default.min.css"><script>hljs.initHighlightingOnLoad();</script></head><body><div class="main animated"><div class="header animated fadeInDown"><div class="site_title_container"><div class="site_title"><a href="https://iidx.xyz">ğ’¯ğ¸ğ’Ÿğ¼ğ’ªğ‘…ğ¸ğ¿ğ¸ğ¸</a></div><div class="description"><a href="https://iidx.xyz"><p class="sub_title">â€œÊá´á´œ'Ê€á´‡ á´Šá´œêœ±á´› á´€ êœ±á´€á´… êœ±á´É´É¢ á´¡Éªá´›Êœ É´á´á´›ÊœÉªÉ´É¢ á´›á´ êœ±á´€Êâ€</p></a><div class="my_socials"><a href="http://weibo.com/u/3200965454"target="_blank"><i class="fa fa-weibo"></i></a><a href="https://www.instagram.com/tediore_lee/"target="_blank"><i class="fa fa-instagram"></i></a></div></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post_page"><div class="post animated fadeInDown"><div class="post_title post_detail_title"><h2><a>ğŸŒˆHexoåšå®¢æ·»åŠ httpsè§£æ</a></h2><span class="date">2018-09-12</span></div><div class="post_content markdown"><p class="md_block"><span class="md_line md_line_start md_line_end"><blockquote>
<p>4/22æ›´æ–°ï¼ŒFuck Hexoï¼ŒGridea YESï¼</p>
</blockquote>
<!-- more --> 
<blockquote>
<p><strong>æ‰€éœ€å‡†å¤‡ï¼š</strong></p>
<ul>
<li>è…¾è®¯äº‘ä¸»æœº+hexo</li>
<li>sslè¯ä¹¦ï¼ˆå¯å…è´¹ç”³è¯·ï¼‰</li>
<li>winscp</li>
</ul>
</blockquote>
<h2 id="ç”³è¯·sslè¯ä¹¦">ç”³è¯·SSLè¯ä¹¦</h2>
<p>è…¾è®¯äº‘å¯ä»¥å…è´¹ç”³è¯·ä¸€å¹´çš„sslè¯ä¹¦ï¼Œ<a href="https://console.cloud.tencent.com/ssl">åœ°å€å¦‚ä¸‹</a><br>
<img src="https://tedioreleeblog.pek3b.qingstor.com/1.png" alt="1"><br>
å®¡æ ¸åªèŠ±äº†æˆ‘å‡ ä¸ªå°æ—¶ï¼Œæ”¶åˆ°çŸ­ä¿¡åæ‰“å¼€è…¾è®¯äº‘åå°ï¼Œä¸‹è½½è¯ä¹¦å‹ç¼©åŒ…<br>
è§£å‹ä»¥åï¼Œç”¨winscpä¸Šä¼ åˆ°æœåŠ¡å™¨<code>/etc/ngix/cert</code>ç›®å½•ä¸‹<br>
å¦‚æœæ²¡æœ‰certç›®å½•å¯è‡ªè¡Œæ‰‹åŠ¨åˆ›å»º<code>mkdir cert</code></p>
<h2 id="ngixé…ç½®">Ngixé…ç½®</h2>
<p>æ‰“å¼€ä½ è‡ªå·±çš„ç½‘ç«™é…ç½®æ–‡ä»¶ï¼Œä»¥æˆ‘è‡ªå·±ä¸ºä¾‹<code>/etc/ngix/sites-aviliable/default</code><br>
æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code>server {
    listen 443;  //å¼€å¯443httpsé»˜è®¤ç«¯å£
    server_name tediorelee.cn;   //æŒ‡å®šåŸŸå
    ssl on;
    root /var/www/hexo;   //æŒ‡å®šç½‘ç«™è·¯å¾„
    index index.html index.htm;
    ssl_certificate  cert/1_xxxx.crt;    //æŒ‡å®šä¸Šä¼ çš„è¯ä¹¦æ–‡ä»¶å
    ssl_certificate_key cert/2_xxxx.key;  //æŒ‡å®šä¸Šä¼ çš„è¯ä¹¦ç§˜é’¥å
    ssl_session_timeout 5m;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_prefer_server_ciphers on;
    location / {
        root /var/www/hexo;  
        index index.html index.htm;
    }
}
</code></pre>
<p>ä¿å­˜é€€å‡º<br>
å‘½ä»¤è¡Œè¾“å…¥<code>ngix -t</code>æ£€æŸ¥é…ç½®æ–‡ä»¶æ­£ç¡®æ€§<br>
æ— é”™è¯¯åï¼Œ<code>/etc/init.d/ngix restart</code>é‡å¯ngixæœåŠ¡<br>
è®¿é—®åŸŸåï¼Œå‰ç¼€åŠ ä¸Šhttpså³å¯</p>
<p><img src="https://tedioreleeblog.pek3b.qingstor.com/2.png" alt="2"><br>
<img src="https://tedioreleeblog.pek3b.qingstor.com/3.png" alt="3"><br>
<strong>æ³¨ï¼šæˆ‘è‡ªå·±é…ç½®çš„æ—¶å€™ï¼Œçœ‹äº†å¾ˆå¤šæ•™ç¨‹ï¼Œå‘ç°ssl_certificateè¯­å¥åé¢ä¸éœ€è¦æ¥ç»å¯¹è·¯å¾„ï¼Œç›¸å¯¹è·¯å¾„å³å¯ï¼Œä½¿ç”¨äº†ç»å¯¹è·¯å¾„åè€Œæ£€æŸ¥ä¼šæŠ¥é”™ã€‚</strong></p>
<h2 id="httpsä¼˜åŒ–">Httpsä¼˜åŒ–</h2>
<p>æ·»åŠ å®Œè¯ä¹¦åï¼Œä½ ä¼šå‘ç°è®¿é—®åŸå…ˆçš„httpä¹Ÿä¼šè¿›åˆ°åšå®¢ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­é…ç½®ngixå‚æ•°ä½¿å…¶è‡ªåŠ¨è·³è½¬åˆ°https<br>
æ‰“å¼€<code>/etc/ngix/sites-avilable/default</code><br>
åˆ æ‰ä»¥å‰é…ç½®çš„80ç«¯å£çš„é…ç½®</p>
<pre><code>server {
    listen 80 default_server;
    return 301 https://yourdomin.cn$request_uri; //æ”¹ä¸ºè‡ªå·±çš„åŸŸå
}

</code></pre>
<p>é‡å¯ngixæœåŠ¡<code>/etc/init.d/restart</code><br>
ç°åœ¨å°±å¯ä»¥é»˜è®¤è·³è½¬httpsäº†ï¼</p>
</span></p></div><div class="post_footer"><div class="meta"><div class="info"><span class="field tags"><i class="fa fa-flask"></i><a href="https://iidx.xyz/tag/5Z456dcn_"class="tag">Hexo</a></span></div></div></div></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '0102793645acc8ba1446',
    clientSecret: 'dbc9e05fb6ac3866c98a32d4af38e4494934965c',
    repo: 'tediorelee.github.io',
    owner: 'tediorelee',
    admin: ['tediorelee'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>
</div></div></div><script type="text/javascript">hljs.initHighlightingOnLoad();</script><style type="text/css">a.back_to_top{text-decoration:none;position:fixed;bottom:40px;right:30px;background:#f0f0f0;height:40px;width:40px;border-radius:50%;line-height:36px;font-size:18px;text-align:center;transition-duration:.5s;transition-propety:background-color;display:none}a.back_to_top span{color:#888}a.back_to_top:hover{cursor:pointer;background:#dfdfdf}a.back_to_top:hover span{color:#555}@media print,screen and(max-width:580px){.back_to_top{display:none!important}}</style><a id="back_to_top"href="#"class="back_to_top"><span>â–³</span></a><script>$(document).ready((function(_this){return function(){var bt;bt=$('#back_to_top');if($(document).width()>480){$(window).scroll(function(){var st;st=$(window).scrollTop();if(st>30){return bt.css('display','block')}else{return bt.css('display','none')}});return bt.click(function(){$('body,html').animate({scrollTop:0},800);return false})}}})(this));</script></div><div class="footer"><a href="https://iidx.xyz"class="menu">ä¸»é¡µ</a><a href="/archives"class="menu">å½’æ¡£</a><a href="/post/about"class="menu">å…³äº</a><a href="/post/friendlink"class="menu">é‚»å±…</a><a href="https://one.iidx.xyz"class="menu"target="_blank">ç½‘ç›˜(æš‚æ—¶å…³é—­)</a><a href="http://bt.iidx.xyz"class="menu"target="_blank">qBittorrent</a><div class="powered_by"><a href="https://kveln.cn">Modify by kveln,</a><a href="https://kveln.cn">Theme zero,</a><a href="https://gridea.dev/"target="_blank">Powered by Gridea&#65281;</a></div><div class="footer_slogan"><img src="https://iidx.xyz/media/images/font.svg"alt="é‡æ‹¾å†™ä½œçš„ä¹è¶£"/></div></div><style type="text/css">a.back_to_top{text-decoration:none;position:fixed;bottom:40px;right:30px;background:#f0f0f0;height:40px;width:40px;border-radius:50%;line-height:36px;font-size:18px;text-align:center;transition-duration:.5s;transition-propety:background-color;display:none}a.back_to_top span{color:#888}a.back_to_top:hover{cursor:pointer;background:#dfdfdf}a.back_to_top:hover span{color:#555}@media print,screen and(max-width:580px){.back_to_top{display:none!important}}</style><a id="back_to_top"href="#"class="back_to_top"><span>â–³</span></a><script>$(document).ready((function(_this){return function(){var bt;bt=$('#back_to_top');if($(document).width()>480){$(window).scroll(function(){var st;st=$(window).scrollTop();if(st>30){return bt.css('display','block')}else{return bt.css('display','none')}});return bt.click(function(){$('body,html').animate({scrollTop:0},800);return false})}}})(this));</script></body></html>